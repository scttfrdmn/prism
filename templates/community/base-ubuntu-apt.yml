name: "Basic Research (APT)"
description: "Ubuntu 22.04 environment with essential research and development packages"
base: "ubuntu-22.04"

# Use APT package manager (native for Ubuntu/Debian)
package_manager: "apt"

packages:
  system:  # Research packages (APT equivalent)
    - "build-essential"
    - "curl"
    - "wget"
    - "git"
    - "vim"
    - "htop"
    - "tree"
    - "unzip"
    - "software-properties-common"
    - "openssl"
    - "ca-certificates"
    - "amazon-ssm-agent"  # AWS Systems Manager for remote management

users:
  - name: "ubuntu"
    groups: ["sudo"]

# Post-install script for SSM agent configuration
post_install: |
  # Ensure SSM agent is enabled and started
  systemctl enable amazon-ssm-agent
  systemctl start amazon-ssm-agent
  systemctl status amazon-ssm-agent || true
  echo "âœ… AWS Systems Manager agent configured"

services: []

# Idle detection configuration for hibernation support
idle_detection:
  enabled: true
  idle_threshold_minutes: 15
  hibernate_threshold_minutes: 30
  check_interval_minutes: 5

instance_defaults:
  ports: [22]

version: "1.0"
tags:
  type: "basic"
  os: "ubuntu"
  purpose: "development"