<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Pre-configured cloud research environments for academic computing"><meta name=author content="CloudWorkstation Team"><link href=https://cloudworkstation.io/releases/RELEASE_PLAN_v0.5.11/ rel=canonical><link rel=icon href=../../images/cloudworkstation-favicon-32.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Prism v0.5.11 Release Plan: User Invitation & Role Systems - CloudWorkstation Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#prism-v0511-release-plan-user-invitation-role-systems class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="CloudWorkstation Documentation" class="md-header__button md-logo" aria-label="CloudWorkstation Documentation" data-md-component=logo> <img src=../../images/cloudworkstation-transparent.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> CloudWorkstation Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Prism v0.5.11 Release Plan: User Invitation &amp; Role Systems </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/scttfrdmn/prism title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> scttfrdmn/cloudworkstation </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../user-guides/GETTING_STARTED/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../user-guides/USER_GUIDE_v0.5.x/ class=md-tabs__link> User Guides </a> </li> <li class=md-tabs__item> <a href=../../USER_SCENARIOS/01_SOLO_RESEARCHER_WALKTHROUGH/ class=md-tabs__link> Persona Walkthroughs </a> </li> <li class=md-tabs__item> <a href=../../admin-guides/ADMINISTRATOR_GUIDE/ class=md-tabs__link> Administrator Guides </a> </li> <li class=md-tabs__item> <a href=../../VISION/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../ROADMAP/ class=md-tabs__link> Roadmap & Planning </a> </li> <li class=md-tabs__item> <a href=../../development/DEVELOPMENT_SETUP/ class=md-tabs__link> Development </a> </li> <li class=md-tabs__item> <a href=../RELEASE_NOTES/ class=md-tabs__link> Release Notes </a> </li> <li class=md-tabs__item> <a href=https://github.com/scttfrdmn/prism/blob/main/.github/README.md class=md-tabs__link> Community </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="CloudWorkstation Documentation" class="md-nav__button md-logo" aria-label="CloudWorkstation Documentation" data-md-component=logo> <img src=../../images/cloudworkstation-transparent.png alt=logo> </a> CloudWorkstation Documentation </label> <div class=md-nav__source> <a href=https://github.com/scttfrdmn/prism title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> scttfrdmn/cloudworkstation </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../user-guides/GETTING_STARTED/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../user-guides/USER_GUIDE_v0.5.x/ class=md-nav__link> <span class=md-ellipsis> User Guides </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../USER_SCENARIOS/01_SOLO_RESEARCHER_WALKTHROUGH/ class=md-nav__link> <span class=md-ellipsis> Persona Walkthroughs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../admin-guides/ADMINISTRATOR_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Administrator Guides </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../VISION/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../ROADMAP/ class=md-nav__link> <span class=md-ellipsis> Roadmap & Planning </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../development/DEVELOPMENT_SETUP/ class=md-nav__link> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../RELEASE_NOTES/ class=md-nav__link> <span class=md-ellipsis> Release Notes </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://github.com/scttfrdmn/prism/blob/main/.github/README.md class=md-nav__link> <span class=md-ellipsis> Community </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#release-goals class=md-nav__link> <span class=md-ellipsis> ðŸŽ¯ Release Goals </span> </a> <nav class=md-nav aria-label="ðŸŽ¯ Release Goals"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#primary-objective class=md-nav__link> <span class=md-ellipsis> Primary Objective </span> </a> </li> <li class=md-nav__item> <a href=#success-metrics class=md-nav__link> <span class=md-ellipsis> Success Metrics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#features-implementation class=md-nav__link> <span class=md-ellipsis> ðŸ“¦ Features &amp; Implementation </span> </a> <nav class=md-nav aria-label="ðŸ“¦ Features & Implementation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-email-based-invitation-system class=md-nav__link> <span class=md-ellipsis> 1. Email-Based Invitation System </span> </a> </li> <li class=md-nav__item> <a href=#2-role-system-enhancement class=md-nav__link> <span class=md-ellipsis> 2. Role System Enhancement </span> </a> </li> <li class=md-nav__item> <a href=#3-invitation-management-gui class=md-nav__link> <span class=md-ellipsis> 3. Invitation Management GUI </span> </a> <nav class=md-nav aria-label="3. Invitation Management GUI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#project-members-tab-enhanced class=md-nav__link> <span class=md-ellipsis> Project Members Tab (Enhanced) </span> </a> </li> <li class=md-nav__item> <a href=#invitation-dialog class=md-nav__link> <span class=md-ellipsis> Invitation Dialog </span> </a> </li> <li class=md-nav__item> <a href=#my-invitations-page class=md-nav__link> <span class=md-ellipsis> My Invitations Page </span> </a> </li> <li class=md-nav__item> <a href=#invitation-email-landing-page class=md-nav__link> <span class=md-ellipsis> Invitation Email Landing Page </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-bulk-invitation-for-classes class=md-nav__link> <span class=md-ellipsis> 4. Bulk Invitation for Classes </span> </a> </li> <li class=md-nav__item> <a href=#5-integration-with-research-user-system class=md-nav__link> <span class=md-ellipsis> 5. Integration with Research User System </span> </a> </li> <li class=md-nav__item> <a href=#6-aws-quota-validation-for-invitations class=md-nav__link> <span class=md-ellipsis> 6. AWS Quota Validation for Invitations </span> </a> <nav class=md-nav aria-label="6. AWS Quota Validation for Invitations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#quota-calculator class=md-nav__link> <span class=md-ellipsis> Quota Calculator </span> </a> </li> <li class=md-nav__item> <a href=#gui-quota-warning-dialog class=md-nav__link> <span class=md-ellipsis> GUI Quota Warning Dialog </span> </a> </li> <li class=md-nav__item> <a href=#cli-quota-check class=md-nav__link> <span class=md-ellipsis> CLI Quota Check </span> </a> </li> <li class=md-nav__item> <a href=#api-endpoints class=md-nav__link> <span class=md-ellipsis> API Endpoints </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-schedule class=md-nav__link> <span class=md-ellipsis> ðŸ“… Implementation Schedule </span> </a> <nav class=md-nav aria-label="ðŸ“… Implementation Schedule"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#week-1-mar-1-7-backend-email-system class=md-nav__link> <span class=md-ellipsis> Week 1 (Mar 1-7): Backend &amp; Email System </span> </a> </li> <li class=md-nav__item> <a href=#week-2-mar-8-14-frontend-integration class=md-nav__link> <span class=md-ellipsis> Week 2 (Mar 8-14): Frontend &amp; Integration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-strategy class=md-nav__link> <span class=md-ellipsis> ðŸ§ª Testing Strategy </span> </a> <nav class=md-nav aria-label="ðŸ§ª Testing Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#backend-testing class=md-nav__link> <span class=md-ellipsis> Backend Testing </span> </a> </li> <li class=md-nav__item> <a href=#frontend-testing class=md-nav__link> <span class=md-ellipsis> Frontend Testing </span> </a> </li> <li class=md-nav__item> <a href=#security-testing class=md-nav__link> <span class=md-ellipsis> Security Testing </span> </a> </li> <li class=md-nav__item> <a href=#persona-walkthroughs class=md-nav__link> <span class=md-ellipsis> Persona Walkthroughs </span> </a> <nav class=md-nav aria-label="Persona Walkthroughs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lab-collaboration-new-member-onboarding class=md-nav__link> <span class=md-ellipsis> Lab Collaboration (New Member Onboarding) </span> </a> </li> <li class=md-nav__item> <a href=#university-class-bulk-student-invitation class=md-nav__link> <span class=md-ellipsis> University Class (Bulk Student Invitation) </span> </a> </li> <li class=md-nav__item> <a href=#cross-institutional-collaboration class=md-nav__link> <span class=md-ellipsis> Cross-Institutional Collaboration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation-updates class=md-nav__link> <span class=md-ellipsis> ðŸ“š Documentation Updates </span> </a> <nav class=md-nav aria-label="ðŸ“š Documentation Updates"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#new-documentation class=md-nav__link> <span class=md-ellipsis> New Documentation </span> </a> </li> <li class=md-nav__item> <a href=#updated-documentation class=md-nav__link> <span class=md-ellipsis> Updated Documentation </span> </a> </li> <li class=md-nav__item> <a href=#release-notes class=md-nav__link> <span class=md-ellipsis> Release Notes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#release-criteria class=md-nav__link> <span class=md-ellipsis> ðŸš€ Release Criteria </span> </a> <nav class=md-nav aria-label="ðŸš€ Release Criteria"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#must-have-blocking class=md-nav__link> <span class=md-ellipsis> Must Have (Blocking) </span> </a> </li> <li class=md-nav__item> <a href=#nice-to-have-non-blocking class=md-nav__link> <span class=md-ellipsis> Nice to Have (Non-Blocking) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#success-metrics-post-release class=md-nav__link> <span class=md-ellipsis> ðŸ“Š Success Metrics (Post-Release) </span> </a> </li> <li class=md-nav__item> <a href=#related-documents class=md-nav__link> <span class=md-ellipsis> ðŸ”— Related Documents </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/scttfrdmn/prism/edit/main/docs/releases/RELEASE_PLAN_v0.5.11.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <a href=https://github.com/scttfrdmn/prism/raw/main/docs/releases/RELEASE_PLAN_v0.5.11.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg> </a> <h1 id=prism-v0511-release-plan-user-invitation-role-systems>Prism v0.5.11 Release Plan: User Invitation &amp; Role Systems<a class=headerlink href=#prism-v0511-release-plan-user-invitation-role-systems title="Permanent link">&para;</a></h1> <p><strong>Release Date</strong>: Target March 14, 2026 <strong>Focus</strong>: Enable project collaboration through invitation workflows and enhanced role-based permissions</p> <h2 id=release-goals>ðŸŽ¯ Release Goals<a class=headerlink href=#release-goals title="Permanent link">&para;</a></h2> <h3 id=primary-objective>Primary Objective<a class=headerlink href=#primary-objective title="Permanent link">&para;</a></h3> <p>Implement a complete user invitation system with role-based permissions, enabling project owners to easily onboard collaborators with appropriate access levels.</p> <h3 id=success-metrics>Success Metrics<a class=headerlink href=#success-metrics title="Permanent link">&para;</a></h3> <ul> <li>Lab onboarding: Invite new member â†’ accepted and active &lt; 5 minutes</li> <li>Class setup: Bulk invite 30 students &lt; 10 minutes</li> <li>Role clarity: Zero "permission denied" support tickets after first week</li> <li>Cross-institutional: External collaborator can join project seamlessly</li> </ul> <hr> <h2 id=features-implementation>ðŸ“¦ Features &amp; Implementation<a class=headerlink href=#features-implementation title="Permanent link">&para;</a></h2> <h3 id=1-email-based-invitation-system>1. Email-Based Invitation System<a class=headerlink href=#1-email-based-invitation-system title="Permanent link">&para;</a></h3> <p><strong>Priority</strong>: P0 (Core feature) <strong>Effort</strong>: Large (4-5 days) <strong>Impact</strong>: Critical (Enables collaboration)</p> <p><strong>Invitation Workflow</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>1. Project Owner â†’ Send Invitation (email + role)
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>2. System â†’ Generate invitation token (expires in 7 days)
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>3. System â†’ Send invitation email
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>4. Invitee â†’ Click link in email
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>5. Invitee â†’ Accept/Decline invitation
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>6. System â†’ Add user to project with assigned role
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>7. Invitee â†’ Receives confirmation email
</span></code></pre></div></p> <p><strong>Data Model</strong>: <div class="language-go highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Invitation</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=nx>ID</span><span class=w>            </span><span class=kt>string</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=nx>ProjectID</span><span class=w>     </span><span class=kt>string</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nx>Email</span><span class=w>         </span><span class=kt>string</span><span class=w>          </span><span class=c1>// Invitee email</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nx>Role</span><span class=w>          </span><span class=nx>ProjectRole</span><span class=w>     </span><span class=c1>// Role to be assigned</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nx>Token</span><span class=w>         </span><span class=kt>string</span><span class=w>          </span><span class=c1>// Secure random token</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=nx>InvitedBy</span><span class=w>     </span><span class=kt>string</span><span class=w>          </span><span class=c1>// User ID of inviter</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=nx>InvitedAt</span><span class=w>     </span><span class=nx>time</span><span class=p>.</span><span class=nx>Time</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>    </span><span class=nx>ExpiresAt</span><span class=w>     </span><span class=nx>time</span><span class=p>.</span><span class=nx>Time</span><span class=w>       </span><span class=c1>// Default: 7 days</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>    </span><span class=nx>Status</span><span class=w>        </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=c1>// pending, accepted, declined, expired</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>    </span><span class=nx>AcceptedAt</span><span class=w>    </span><span class=o>*</span><span class=nx>time</span><span class=p>.</span><span class=nx>Time</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>    </span><span class=nx>DeclinedAt</span><span class=w>    </span><span class=o>*</span><span class=nx>time</span><span class=p>.</span><span class=nx>Time</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=nx>DeclineReason</span><span class=w> </span><span class=kt>string</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>    </span><span class=nx>ResendCount</span><span class=w>   </span><span class=kt>int</span><span class=w>             </span><span class=c1>// Track number of resends</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>    </span><span class=nx>LastResent</span><span class=w>    </span><span class=o>*</span><span class=nx>time</span><span class=p>.</span><span class=nx>Time</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=p>}</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=kd>type</span><span class=w> </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=kt>string</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=kd>const</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=w>    </span><span class=nx>InvitationPending</span><span class=w>  </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;pending&quot;</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=w>    </span><span class=nx>InvitationAccepted</span><span class=w> </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;accepted&quot;</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=w>    </span><span class=nx>InvitationDeclined</span><span class=w> </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;declined&quot;</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=w>    </span><span class=nx>InvitationExpired</span><span class=w>  </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;expired&quot;</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=w>    </span><span class=nx>InvitationRevoked</span><span class=w>  </span><span class=nx>InvitationStatus</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;revoked&quot;</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=p>)</span>
</span></code></pre></div></p> <p><strong>Database Schema</strong>: <div class="language-sql highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>invitations</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=n>id</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=n>project_id</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>projects</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=n>email</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=k>role</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=k>role</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;owner&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;admin&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;member&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;viewer&#39;</span><span class=p>)),</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=n>token</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=n>invited_by</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>    </span><span class=n>invited_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>NOW</span><span class=p>(),</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>    </span><span class=n>expires_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>    </span><span class=n>status</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;pending&#39;</span><span class=p>,</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>    </span><span class=n>accepted_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=p>,</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>    </span><span class=n>declined_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=p>,</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>    </span><span class=n>decline_reason</span><span class=w> </span><span class=nb>TEXT</span><span class=p>,</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=w>    </span><span class=n>resend_count</span><span class=w> </span><span class=nb>INTEGER</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>    </span><span class=n>last_resent</span><span class=w> </span><span class=k>TIMESTAMP</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=p>);</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_invitations_project</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>invitations</span><span class=p>(</span><span class=n>project_id</span><span class=p>);</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_invitations_email</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>invitations</span><span class=p>(</span><span class=n>email</span><span class=p>);</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_invitations_token</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>invitations</span><span class=p>(</span><span class=n>token</span><span class=p>);</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_invitations_status</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>invitations</span><span class=p>(</span><span class=n>status</span><span class=p>);</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a><span class=c1>-- Ensure one pending invitation per email per project</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a><span class=k>CREATE</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_invitations_unique_pending</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=w>    </span><span class=k>ON</span><span class=w> </span><span class=n>invitations</span><span class=p>(</span><span class=n>project_id</span><span class=p>,</span><span class=w> </span><span class=n>email</span><span class=p>)</span>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;pending&#39;</span><span class=p>;</span>
</span></code></pre></div></p> <p><strong>API Endpoints</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>POST   /api/v1/projects/{id}/invitations          # Send invitation
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>GET    /api/v1/projects/{id}/invitations          # List invitations for project
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>GET    /api/v1/invitations/my                     # List user&#39;s received invitations
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>GET    /api/v1/invitations/{token}                # Get invitation by token (public)
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>POST   /api/v1/invitations/{token}/accept         # Accept invitation
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>POST   /api/v1/invitations/{token}/decline        # Decline invitation
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>POST   /api/v1/invitations/{id}/resend            # Resend invitation email
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>DELETE /api/v1/invitations/{id}                   # Revoke invitation
</span></code></pre></div></p> <p><strong>Email Templates</strong>: <div class="language-html highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=cm>&lt;!-- Invitation Email --&gt;</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>Subject: You&#39;ve been invited to join &quot;{project.Name}&quot; on Prism
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>Hi there,
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>{inviter.Name} ({inviter.Email}) has invited you to collaborate on the
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>&quot;{project.Name}&quot; project on Prism as a {role}.
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>Project Description:
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>{project.Description}
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>To accept this invitation, click the link below:
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>{acceptURL}
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>To decline, click here:
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>{declineURL}
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>This invitation will expire in 7 days.
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>Questions? Reply to this email or contact {inviter.Email}.
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>Best,
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>The Prism Team
</span></code></pre></div></p> <div class="language-html highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=cm>&lt;!-- Acceptance Confirmation --&gt;</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>Subject: Welcome to &quot;{project.Name}&quot;!
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>Hi {user.Name},
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>You&#39;ve successfully joined the &quot;{project.Name}&quot; project as a {role}.
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>You can now:
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>- Launch workspaces under this project
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>- Access shared EFS storage
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>- Collaborate with {memberCount} team members
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>- View project budget and spending
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>Get started: {projectURL}
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>Best,
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>The Prism Team
</span></code></pre></div> <p><strong>Implementation Tasks</strong>: - [ ] Create invitation data model - [ ] Implement token generation (crypto.rand, 32 bytes) - [ ] Add invitation CRUD API endpoints - [ ] Integrate email sending (SMTP or SendGrid) - [ ] Create email templates - [ ] Implement accept/decline logic - [ ] Add invitation expiration checking - [ ] Handle duplicate invitation prevention - [ ] Add invitation audit trail</p> <hr> <h3 id=2-role-system-enhancement>2. Role System Enhancement<a class=headerlink href=#2-role-system-enhancement title="Permanent link">&para;</a></h3> <p><strong>Priority</strong>: P0 (Security &amp; Permissions) <strong>Effort</strong>: Medium (3-4 days) <strong>Impact</strong>: Critical (Access control)</p> <p><strong>Current Role System</strong> (from Phase 4): <div class="language-go highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kd>type</span><span class=w> </span><span class=nx>ProjectRole</span><span class=w> </span><span class=kt>string</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=kd>const</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=nx>RoleOwner</span><span class=w>  </span><span class=nx>ProjectRole</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;owner&quot;</span><span class=w>   </span><span class=c1>// Full control</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=nx>RoleAdmin</span><span class=w>  </span><span class=nx>ProjectRole</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;admin&quot;</span><span class=w>   </span><span class=c1>// Manage members, budgets</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=nx>RoleMember</span><span class=w> </span><span class=nx>ProjectRole</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;member&quot;</span><span class=w>  </span><span class=c1>// Launch workspaces</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=nx>RoleViewer</span><span class=w> </span><span class=nx>ProjectRole</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;viewer&quot;</span><span class=w>  </span><span class=c1>// Read-only access</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=p>)</span>
</span></code></pre></div></p> <p><strong>Enhanced Permission Matrix</strong>: <div class="language-go highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Permission</span><span class=w> </span><span class=kt>string</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=kd>const</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=c1>// Project Management</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=nx>PermProjectEdit</span><span class=w>          </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;project:edit&quot;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class=nx>PermProjectDelete</span><span class=w>        </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;project:delete&quot;</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class=nx>PermProjectViewMembers</span><span class=w>   </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;project:view_members&quot;</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>    </span><span class=nx>PermProjectManageMembers</span><span class=w> </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;project:manage_members&quot;</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>    </span><span class=c1>// Budget Management</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=nx>PermBudgetView</span><span class=w>           </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;budget:view&quot;</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>    </span><span class=nx>PermBudgetEdit</span><span class=w>           </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;budget:edit&quot;</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>    </span><span class=nx>PermBudgetAllocate</span><span class=w>       </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;budget:allocate&quot;</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>    </span><span class=c1>// Workspace Operations</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>    </span><span class=nx>PermWorkspaceLaunch</span><span class=w>      </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;workspace:launch&quot;</span>
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=w>    </span><span class=nx>PermWorkspaceView</span><span class=w>        </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;workspace:view&quot;</span>
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a><span class=w>    </span><span class=nx>PermWorkspaceConnect</span><span class=w>     </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;workspace:connect&quot;</span>
</span><span id=__span-7-18><a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=w>    </span><span class=nx>PermWorkspaceControl</span><span class=w>     </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;workspace:control&quot;</span><span class=w>  </span><span class=c1>// stop, hibernate, terminate</span>
</span><span id=__span-7-19><a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>    </span><span class=nx>PermWorkspaceTerminate</span><span class=w>   </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;workspace:terminate&quot;</span>
</span><span id=__span-7-20><a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a>
</span><span id=__span-7-21><a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a><span class=w>    </span><span class=c1>// Storage Management</span>
</span><span id=__span-7-22><a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a><span class=w>    </span><span class=nx>PermStorageView</span><span class=w>          </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;storage:view&quot;</span>
</span><span id=__span-7-23><a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=w>    </span><span class=nx>PermStorageCreate</span><span class=w>        </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;storage:create&quot;</span>
</span><span id=__span-7-24><a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a><span class=w>    </span><span class=nx>PermStorageAttach</span><span class=w>        </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;storage:attach&quot;</span>
</span><span id=__span-7-25><a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a><span class=w>    </span><span class=nx>PermStorageDelete</span><span class=w>        </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;storage:delete&quot;</span>
</span><span id=__span-7-26><a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a>
</span><span id=__span-7-27><a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a><span class=w>    </span><span class=c1>// Invitations</span>
</span><span id=__span-7-28><a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a><span class=w>    </span><span class=nx>PermInvitationSend</span><span class=w>       </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;invitation:send&quot;</span>
</span><span id=__span-7-29><a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a><span class=w>    </span><span class=nx>PermInvitationView</span><span class=w>       </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;invitation:view&quot;</span>
</span><span id=__span-7-30><a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a><span class=w>    </span><span class=nx>PermInvitationRevoke</span><span class=w>     </span><span class=nx>Permission</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;invitation:revoke&quot;</span>
</span><span id=__span-7-31><a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a><span class=p>)</span>
</span><span id=__span-7-32><a id=__codelineno-7-32 name=__codelineno-7-32 href=#__codelineno-7-32></a>
</span><span id=__span-7-33><a id=__codelineno-7-33 name=__codelineno-7-33 href=#__codelineno-7-33></a><span class=c1>// Role Permission Mapping</span>
</span><span id=__span-7-34><a id=__codelineno-7-34 name=__codelineno-7-34 href=#__codelineno-7-34></a><span class=kd>var</span><span class=w> </span><span class=nx>RolePermissions</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=nx>ProjectRole</span><span class=p>][]</span><span class=nx>Permission</span><span class=p>{</span>
</span><span id=__span-7-35><a id=__codelineno-7-35 name=__codelineno-7-35 href=#__codelineno-7-35></a><span class=w>    </span><span class=nx>RoleOwner</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-36><a id=__codelineno-7-36 name=__codelineno-7-36 href=#__codelineno-7-36></a><span class=w>        </span><span class=c1>// All permissions</span>
</span><span id=__span-7-37><a id=__codelineno-7-37 name=__codelineno-7-37 href=#__codelineno-7-37></a><span class=w>        </span><span class=nx>PermProjectEdit</span><span class=p>,</span><span class=w> </span><span class=nx>PermProjectDelete</span><span class=p>,</span><span class=w> </span><span class=nx>PermProjectViewMembers</span><span class=p>,</span><span class=w> </span><span class=nx>PermProjectManageMembers</span><span class=p>,</span>
</span><span id=__span-7-38><a id=__codelineno-7-38 name=__codelineno-7-38 href=#__codelineno-7-38></a><span class=w>        </span><span class=nx>PermBudgetView</span><span class=p>,</span><span class=w> </span><span class=nx>PermBudgetEdit</span><span class=p>,</span><span class=w> </span><span class=nx>PermBudgetAllocate</span><span class=p>,</span>
</span><span id=__span-7-39><a id=__codelineno-7-39 name=__codelineno-7-39 href=#__codelineno-7-39></a><span class=w>        </span><span class=nx>PermWorkspaceLaunch</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceView</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceConnect</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceControl</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceTerminate</span><span class=p>,</span>
</span><span id=__span-7-40><a id=__codelineno-7-40 name=__codelineno-7-40 href=#__codelineno-7-40></a><span class=w>        </span><span class=nx>PermStorageView</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageCreate</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageAttach</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageDelete</span><span class=p>,</span>
</span><span id=__span-7-41><a id=__codelineno-7-41 name=__codelineno-7-41 href=#__codelineno-7-41></a><span class=w>        </span><span class=nx>PermInvitationSend</span><span class=p>,</span><span class=w> </span><span class=nx>PermInvitationView</span><span class=p>,</span><span class=w> </span><span class=nx>PermInvitationRevoke</span><span class=p>,</span>
</span><span id=__span-7-42><a id=__codelineno-7-42 name=__codelineno-7-42 href=#__codelineno-7-42></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-7-43><a id=__codelineno-7-43 name=__codelineno-7-43 href=#__codelineno-7-43></a><span class=w>    </span><span class=nx>RoleAdmin</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-44><a id=__codelineno-7-44 name=__codelineno-7-44 href=#__codelineno-7-44></a><span class=w>        </span><span class=c1>// Project &amp; member management, no delete</span>
</span><span id=__span-7-45><a id=__codelineno-7-45 name=__codelineno-7-45 href=#__codelineno-7-45></a><span class=w>        </span><span class=nx>PermProjectEdit</span><span class=p>,</span><span class=w> </span><span class=nx>PermProjectViewMembers</span><span class=p>,</span><span class=w> </span><span class=nx>PermProjectManageMembers</span><span class=p>,</span>
</span><span id=__span-7-46><a id=__codelineno-7-46 name=__codelineno-7-46 href=#__codelineno-7-46></a><span class=w>        </span><span class=nx>PermBudgetView</span><span class=p>,</span><span class=w> </span><span class=nx>PermBudgetEdit</span><span class=p>,</span>
</span><span id=__span-7-47><a id=__codelineno-7-47 name=__codelineno-7-47 href=#__codelineno-7-47></a><span class=w>        </span><span class=nx>PermWorkspaceLaunch</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceView</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceConnect</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceControl</span><span class=p>,</span>
</span><span id=__span-7-48><a id=__codelineno-7-48 name=__codelineno-7-48 href=#__codelineno-7-48></a><span class=w>        </span><span class=nx>PermStorageView</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageCreate</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageAttach</span><span class=p>,</span>
</span><span id=__span-7-49><a id=__codelineno-7-49 name=__codelineno-7-49 href=#__codelineno-7-49></a><span class=w>        </span><span class=nx>PermInvitationSend</span><span class=p>,</span><span class=w> </span><span class=nx>PermInvitationView</span><span class=p>,</span><span class=w> </span><span class=nx>PermInvitationRevoke</span><span class=p>,</span>
</span><span id=__span-7-50><a id=__codelineno-7-50 name=__codelineno-7-50 href=#__codelineno-7-50></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-7-51><a id=__codelineno-7-51 name=__codelineno-7-51 href=#__codelineno-7-51></a><span class=w>    </span><span class=nx>RoleMember</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-52><a id=__codelineno-7-52 name=__codelineno-7-52 href=#__codelineno-7-52></a><span class=w>        </span><span class=c1>// Launch workspaces, manage own resources</span>
</span><span id=__span-7-53><a id=__codelineno-7-53 name=__codelineno-7-53 href=#__codelineno-7-53></a><span class=w>        </span><span class=nx>PermProjectViewMembers</span><span class=p>,</span>
</span><span id=__span-7-54><a id=__codelineno-7-54 name=__codelineno-7-54 href=#__codelineno-7-54></a><span class=w>        </span><span class=nx>PermBudgetView</span><span class=p>,</span>
</span><span id=__span-7-55><a id=__codelineno-7-55 name=__codelineno-7-55 href=#__codelineno-7-55></a><span class=w>        </span><span class=nx>PermWorkspaceLaunch</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceView</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceConnect</span><span class=p>,</span><span class=w> </span><span class=nx>PermWorkspaceControl</span><span class=p>,</span>
</span><span id=__span-7-56><a id=__codelineno-7-56 name=__codelineno-7-56 href=#__codelineno-7-56></a><span class=w>        </span><span class=nx>PermStorageView</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageCreate</span><span class=p>,</span><span class=w> </span><span class=nx>PermStorageAttach</span><span class=p>,</span>
</span><span id=__span-7-57><a id=__codelineno-7-57 name=__codelineno-7-57 href=#__codelineno-7-57></a><span class=w>        </span><span class=nx>PermInvitationView</span><span class=p>,</span>
</span><span id=__span-7-58><a id=__codelineno-7-58 name=__codelineno-7-58 href=#__codelineno-7-58></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-7-59><a id=__codelineno-7-59 name=__codelineno-7-59 href=#__codelineno-7-59></a><span class=w>    </span><span class=nx>RoleViewer</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-60><a id=__codelineno-7-60 name=__codelineno-7-60 href=#__codelineno-7-60></a><span class=w>        </span><span class=c1>// Read-only access</span>
</span><span id=__span-7-61><a id=__codelineno-7-61 name=__codelineno-7-61 href=#__codelineno-7-61></a><span class=w>        </span><span class=nx>PermProjectViewMembers</span><span class=p>,</span>
</span><span id=__span-7-62><a id=__codelineno-7-62 name=__codelineno-7-62 href=#__codelineno-7-62></a><span class=w>        </span><span class=nx>PermBudgetView</span><span class=p>,</span>
</span><span id=__span-7-63><a id=__codelineno-7-63 name=__codelineno-7-63 href=#__codelineno-7-63></a><span class=w>        </span><span class=nx>PermWorkspaceView</span><span class=p>,</span>
</span><span id=__span-7-64><a id=__codelineno-7-64 name=__codelineno-7-64 href=#__codelineno-7-64></a><span class=w>        </span><span class=nx>PermStorageView</span><span class=p>,</span>
</span><span id=__span-7-65><a id=__codelineno-7-65 name=__codelineno-7-65 href=#__codelineno-7-65></a><span class=w>        </span><span class=nx>PermInvitationView</span><span class=p>,</span>
</span><span id=__span-7-66><a id=__codelineno-7-66 name=__codelineno-7-66 href=#__codelineno-7-66></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-7-67><a id=__codelineno-7-67 name=__codelineno-7-67 href=#__codelineno-7-67></a><span class=p>}</span>
</span><span id=__span-7-68><a id=__codelineno-7-68 name=__codelineno-7-68 href=#__codelineno-7-68></a>
</span><span id=__span-7-69><a id=__codelineno-7-69 name=__codelineno-7-69 href=#__codelineno-7-69></a><span class=c1>// Permission checking</span>
</span><span id=__span-7-70><a id=__codelineno-7-70 name=__codelineno-7-70 href=#__codelineno-7-70></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=o>*</span><span class=nx>Project</span><span class=p>)</span><span class=w> </span><span class=nx>HasPermission</span><span class=p>(</span><span class=nx>userID</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>perm</span><span class=w> </span><span class=nx>Permission</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-71><a id=__codelineno-7-71 name=__codelineno-7-71 href=#__codelineno-7-71></a><span class=w>    </span><span class=nx>member</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>p</span><span class=p>.</span><span class=nx>GetMember</span><span class=p>(</span><span class=nx>userID</span><span class=p>)</span>
</span><span id=__span-7-72><a id=__codelineno-7-72 name=__codelineno-7-72 href=#__codelineno-7-72></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>member</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-73><a id=__codelineno-7-73 name=__codelineno-7-73 href=#__codelineno-7-73></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-7-74><a id=__codelineno-7-74 name=__codelineno-7-74 href=#__codelineno-7-74></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-75><a id=__codelineno-7-75 name=__codelineno-7-75 href=#__codelineno-7-75></a>
</span><span id=__span-7-76><a id=__codelineno-7-76 name=__codelineno-7-76 href=#__codelineno-7-76></a><span class=w>    </span><span class=nx>allowedPerms</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>RolePermissions</span><span class=p>[</span><span class=nx>member</span><span class=p>.</span><span class=nx>Role</span><span class=p>]</span>
</span><span id=__span-7-77><a id=__codelineno-7-77 name=__codelineno-7-77 href=#__codelineno-7-77></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>allowed</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>allowedPerms</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-78><a id=__codelineno-7-78 name=__codelineno-7-78 href=#__codelineno-7-78></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>allowed</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>perm</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-79><a id=__codelineno-7-79 name=__codelineno-7-79 href=#__codelineno-7-79></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-7-80><a id=__codelineno-7-80 name=__codelineno-7-80 href=#__codelineno-7-80></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-7-81><a id=__codelineno-7-81 name=__codelineno-7-81 href=#__codelineno-7-81></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-82><a id=__codelineno-7-82 name=__codelineno-7-82 href=#__codelineno-7-82></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-7-83><a id=__codelineno-7-83 name=__codelineno-7-83 href=#__codelineno-7-83></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>API Middleware</strong> (Permission Enforcement): <div class="language-go highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1>// RequireProjectPermission middleware</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=kd>func</span><span class=w> </span><span class=nx>RequireProjectPermission</span><span class=p>(</span><span class=nx>perm</span><span class=w> </span><span class=nx>Permission</span><span class=p>)</span><span class=w> </span><span class=nx>gin</span><span class=p>.</span><span class=nx>HandlerFunc</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>c</span><span class=w> </span><span class=o>*</span><span class=nx>gin</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>        </span><span class=nx>projectID</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>c</span><span class=p>.</span><span class=nx>Param</span><span class=p>(</span><span class=s>&quot;projectID&quot;</span><span class=p>)</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>        </span><span class=nx>userID</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>c</span><span class=p>.</span><span class=nx>GetString</span><span class=p>(</span><span class=s>&quot;userID&quot;</span><span class=p>)</span><span class=w>  </span><span class=c1>// From auth token</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>        </span><span class=nx>project</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>getProject</span><span class=p>(</span><span class=nx>projectID</span><span class=p>)</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>            </span><span class=nx>c</span><span class=p>.</span><span class=nx>JSON</span><span class=p>(</span><span class=mi>404</span><span class=p>,</span><span class=w> </span><span class=nx>gin</span><span class=p>.</span><span class=nx>H</span><span class=p>{</span><span class=s>&quot;error&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Project not found&quot;</span><span class=p>})</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>            </span><span class=nx>c</span><span class=p>.</span><span class=nx>Abort</span><span class=p>()</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>            </span><span class=k>return</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>!</span><span class=nx>project</span><span class=p>.</span><span class=nx>HasPermission</span><span class=p>(</span><span class=nx>userID</span><span class=p>,</span><span class=w> </span><span class=nx>perm</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>            </span><span class=nx>c</span><span class=p>.</span><span class=nx>JSON</span><span class=p>(</span><span class=mi>403</span><span class=p>,</span><span class=w> </span><span class=nx>gin</span><span class=p>.</span><span class=nx>H</span><span class=p>{</span><span class=s>&quot;error&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Permission denied&quot;</span><span class=p>})</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=w>            </span><span class=nx>c</span><span class=p>.</span><span class=nx>Abort</span><span class=p>()</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=w>            </span><span class=k>return</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=w>        </span><span class=nx>c</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;project&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>project</span><span class=p>)</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=w>        </span><span class=nx>c</span><span class=p>.</span><span class=nx>Next</span><span class=p>()</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=p>}</span>
</span><span id=__span-8-24><a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>
</span><span id=__span-8-25><a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a><span class=c1>// Usage:</span>
</span><span id=__span-8-26><a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a><span class=nx>router</span><span class=p>.</span><span class=nx>POST</span><span class=p>(</span><span class=s>&quot;/projects/:projectID/workspaces&quot;</span><span class=p>,</span>
</span><span id=__span-8-27><a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a><span class=w>    </span><span class=nx>RequireProjectPermission</span><span class=p>(</span><span class=nx>PermWorkspaceLaunch</span><span class=p>),</span>
</span><span id=__span-8-28><a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a><span class=w>    </span><span class=nx>LaunchWorkspaceHandler</span><span class=p>)</span>
</span></code></pre></div></p> <p><strong>Implementation Tasks</strong>: - [ ] Define comprehensive permission set - [ ] Create permission checking functions - [ ] Add API middleware for permission enforcement - [ ] Update all project API handlers with permission checks - [ ] Add role-based UI element visibility - [ ] Document permission matrix - [ ] Add permission checking tests</p> <hr> <h3 id=3-invitation-management-gui>3. Invitation Management GUI<a class=headerlink href=#3-invitation-management-gui title="Permanent link">&para;</a></h3> <p><strong>Priority</strong>: P0 (User Experience) <strong>Effort</strong>: Medium (3-4 days) <strong>Impact</strong>: Critical (Usability)</p> <p><strong>Components</strong>:</p> <h4 id=project-members-tab-enhanced>Project Members Tab (Enhanced)<a class=headerlink href=#project-members-tab-enhanced title="Permanent link">&para;</a></h4> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1>// cmd/prism-gui/frontend/src/pages/ProjectDetail.tsx (Members Tab)</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=kd>interface</span><span class=w> </span><span class=nx>MemberListProps</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>  </span><span class=nx>project</span><span class=o>:</span><span class=w> </span><span class=kt>Project</span><span class=p>;</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>  </span><span class=nx>currentUser</span><span class=o>:</span><span class=w> </span><span class=kt>User</span><span class=p>;</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=p>}</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=nx>Features</span><span class=o>:</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=o>-</span><span class=w> </span><span class=nx>Member</span><span class=w> </span><span class=nx>table</span><span class=w> </span><span class=kd>with</span><span class=w> </span><span class=nx>columns</span><span class=o>:</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Name</span><span class=p>,</span><span class=w> </span><span class=nx>Email</span><span class=p>,</span><span class=w> </span><span class=nx>Role</span><span class=p>,</span><span class=w> </span><span class=nx>Joined</span><span class=w> </span><span class=nb>Date</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Actions</span><span class=w> </span><span class=p>(</span><span class=nx>Edit</span><span class=w> </span><span class=nx>Role</span><span class=p>,</span><span class=w> </span><span class=nx>Remove</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>has</span><span class=w> </span><span class=nx>permission</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=o>-</span><span class=w> </span><span class=s2>&quot;Invite Member&quot;</span><span class=w> </span><span class=nx>button</span><span class=w> </span><span class=err>â†’</span><span class=w> </span><span class=nx>Opens</span><span class=w> </span><span class=nx>InvitationDialog</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=o>-</span><span class=w> </span><span class=nx>Pending</span><span class=w> </span><span class=nx>invitations</span><span class=w> </span><span class=nx>section</span><span class=o>:</span>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Email</span><span class=p>,</span><span class=w> </span><span class=nx>Role</span><span class=p>,</span><span class=w> </span><span class=nx>Invited</span><span class=w> </span><span class=nx>By</span><span class=p>,</span><span class=w> </span><span class=nx>Expires</span><span class=w> </span><span class=nx>In</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Actions</span><span class=o>:</span><span class=w> </span><span class=kt>Resend</span><span class=p>,</span><span class=w> </span><span class=nx>Revoke</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=o>-</span><span class=w> </span><span class=nx>Role</span><span class=w> </span><span class=nx>badges</span><span class=w> </span><span class=kd>with</span><span class=w> </span><span class=nx>color</span><span class=w> </span><span class=nx>coding</span><span class=o>:</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Owner</span><span class=o>:</span><span class=w> </span><span class=kt>Red</span><span class=w> </span><span class=nx>badge</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Admin</span><span class=o>:</span><span class=w> </span><span class=kt>Orange</span><span class=w> </span><span class=nx>badge</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Member</span><span class=o>:</span><span class=w> </span><span class=kt>Blue</span><span class=w> </span><span class=nx>badge</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Viewer</span><span class=o>:</span><span class=w> </span><span class=kt>Gray</span><span class=w> </span><span class=nx>badge</span>
</span></code></pre></div> <h4 id=invitation-dialog>Invitation Dialog<a class=headerlink href=#invitation-dialog title="Permanent link">&para;</a></h4> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1>// cmd/prism-gui/frontend/src/components/InvitationDialog.tsx</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=kd>interface</span><span class=w> </span><span class=nx>InvitationDialogProps</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>  </span><span class=nx>project</span><span class=o>:</span><span class=w> </span><span class=kt>Project</span><span class=p>;</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>  </span><span class=nx>onInvite</span><span class=o>:</span><span class=w> </span><span class=p>(</span><span class=nx>email</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>role</span><span class=o>:</span><span class=w> </span><span class=kt>ProjectRole</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=ow>void</span><span class=o>&gt;</span><span class=p>;</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=p>}</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=nx>Features</span><span class=o>:</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=o>-</span><span class=w> </span><span class=nx>Email</span><span class=w> </span><span class=nx>input</span><span class=w> </span><span class=kd>with</span><span class=w> </span><span class=nx>validation</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=o>-</span><span class=w> </span><span class=nx>Role</span><span class=w> </span><span class=nx>selector</span><span class=w> </span><span class=kd>with</span><span class=w> </span><span class=nx>descriptions</span><span class=o>:</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Owner</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Full control of project&quot;</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Admin</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Manage members, budgets, workspaces&quot;</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Member</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Launch workspaces, manage own resources&quot;</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=nx>Viewer</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Read-only access&quot;</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=o>-</span><span class=w> </span><span class=nx>Optional</span><span class=w> </span><span class=nx>message</span><span class=w> </span><span class=nx>to</span><span class=w> </span><span class=nx>invitee</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=o>-</span><span class=w> </span><span class=nx>Bulk</span><span class=w> </span><span class=nx>invitation</span><span class=w> </span><span class=p>(</span><span class=nx>CSV</span><span class=w> </span><span class=nx>upload</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=nx>classes</span><span class=p>)</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=o>-</span><span class=w> </span><span class=nx>Preview</span><span class=w> </span><span class=nx>permissions</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=nx>selected</span><span class=w> </span><span class=nx>role</span>
</span></code></pre></div> <h4 id=my-invitations-page>My Invitations Page<a class=headerlink href=#my-invitations-page title="Permanent link">&para;</a></h4> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1>// cmd/prism-gui/frontend/src/pages/MyInvitations.tsx</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=nx>Features</span><span class=o>:</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=o>-</span><span class=w> </span><span class=nx>List</span><span class=w> </span><span class=k>of</span><span class=w> </span><span class=nx>pending</span><span class=w> </span><span class=nx>invitations</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=o>-</span><span class=w> </span><span class=nx>Project</span><span class=w> </span><span class=nx>details</span><span class=w> </span><span class=nx>preview</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=o>-</span><span class=w> </span><span class=nx>Inviter</span><span class=w> </span><span class=nx>information</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=o>-</span><span class=w> </span><span class=nx>Role</span><span class=w> </span><span class=nx>description</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=o>-</span><span class=w> </span><span class=nx>Accept</span><span class=o>/</span><span class=nx>Decline</span><span class=w> </span><span class=nx>buttons</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=o>-</span><span class=w> </span><span class=nx>Decline</span><span class=w> </span><span class=nx>reason</span><span class=w> </span><span class=p>(</span><span class=nx>optional</span><span class=w> </span><span class=nx>text</span><span class=w> </span><span class=nx>field</span><span class=p>)</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=o>-</span><span class=w> </span><span class=nx>Invitation</span><span class=w> </span><span class=nx>expiration</span><span class=w> </span><span class=nx>countdown</span>
</span></code></pre></div> <h4 id=invitation-email-landing-page>Invitation Email Landing Page<a class=headerlink href=#invitation-email-landing-page title="Permanent link">&para;</a></h4> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1>// Public page (no auth required)</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=c1>// /accept-invitation?token={token}</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=nx>Features</span><span class=o>:</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=o>-</span><span class=w> </span><span class=nx>Project</span><span class=w> </span><span class=nx>information</span><span class=w> </span><span class=nx>display</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=o>-</span><span class=w> </span><span class=nx>Role</span><span class=w> </span><span class=nx>details</span><span class=w> </span><span class=nx>and</span><span class=w> </span><span class=nx>permissions</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=o>-</span><span class=w> </span><span class=nx>Inviter</span><span class=w> </span><span class=nx>details</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=o>-</span><span class=w> </span><span class=nx>Accept</span><span class=w> </span><span class=nx>button</span><span class=w> </span><span class=err>â†’</span><span class=w> </span><span class=nx>Creates</span><span class=w> </span><span class=nx>account</span><span class=w> </span><span class=nx>or</span><span class=w> </span><span class=nx>logs</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=err>â†’</span><span class=w> </span><span class=nx>Joins</span><span class=w> </span><span class=nx>project</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=o>-</span><span class=w> </span><span class=nx>Decline</span><span class=w> </span><span class=nx>button</span><span class=w> </span><span class=err>â†’</span><span class=w> </span><span class=nx>Optional</span><span class=w> </span><span class=nx>reason</span><span class=w> </span><span class=err>â†’</span><span class=w> </span><span class=nx>Marks</span><span class=w> </span><span class=nx>declined</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=o>-</span><span class=w> </span><span class=nx>Expired</span><span class=w> </span><span class=nx>invitation</span><span class=w> </span><span class=nx>message</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=o>-</span><span class=w> </span><span class=nx>Already</span><span class=w> </span><span class=nx>accepted</span><span class=o>/</span><span class=nx>declined</span><span class=w> </span><span class=nx>status</span>
</span></code></pre></div> <p><strong>Cloudscape Components</strong>: - <code>Table</code> for member and invitation lists - <code>Badge</code> for roles and statuses - <code>Modal</code> for invitation dialog - <code>FormField</code> for email and role selection - <code>Select</code> for role dropdown - <code>Button</code> for actions - <code>Alert</code> for permission explanations</p> <p><strong>Implementation Tasks</strong>: - [ ] Enhance ProjectDetail Members tab - [ ] Create InvitationDialog component - [ ] Create MyInvitations page - [ ] Create public invitation acceptance page - [ ] Add bulk invitation CSV upload - [ ] Implement role permission preview - [ ] Add invitation status notifications - [ ] Add expiration countdown timers</p> <hr> <h3 id=4-bulk-invitation-for-classes>4. Bulk Invitation for Classes<a class=headerlink href=#4-bulk-invitation-for-classes title="Permanent link">&para;</a></h3> <p><strong>Priority</strong>: P1 (High-impact use case) <strong>Effort</strong>: Small (1-2 days) <strong>Impact</strong>: High (Educational adoption)</p> <p><strong>Use Case</strong>: Professor needs to invite 30-50 students to class project with one action.</p> <p><strong>CSV Format</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>email,role,name
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>alice@university.edu,member,Alice Smith
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>bob@university.edu,member,Bob Jones
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>carol@university.edu,member,Carol Lee
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>...
</span></code></pre></div></p> <p><strong>Bulk Invitation Workflow</strong>: <div class="language-typescript highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=kd>interface</span><span class=w> </span><span class=nx>BulkInvitationRequest</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>  </span><span class=nx>projectId</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>  </span><span class=nx>invitations</span><span class=o>:</span><span class=w> </span><span class=kt>Array</span><span class=o>&lt;</span><span class=p>{</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>    </span><span class=nx>email</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=w>    </span><span class=nx>role</span><span class=o>:</span><span class=w> </span><span class=kt>ProjectRole</span><span class=p>;</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>    </span><span class=nx>name?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span><span class=w>  </span><span class=c1>// Optional display name</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>  </span><span class=p>}</span><span class=o>&gt;</span><span class=p>;</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=w>  </span><span class=nx>message?</span><span class=o>:</span><span class=w> </span><span class=kt>string</span><span class=p>;</span><span class=w>  </span><span class=c1>// Optional custom message</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=p>}</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=c1>// API:</span>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a><span class=nx>POST</span><span class=w> </span><span class=o>/</span><span class=nx>api</span><span class=o>/</span><span class=nx>v1</span><span class=o>/</span><span class=nx>projects</span><span class=o>/</span><span class=p>{</span><span class=nx>id</span><span class=p>}</span><span class=o>/</span><span class=nx>invitations</span><span class=o>/</span><span class=nx>bulk</span>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=p>{</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=w>  </span><span class=s2>&quot;invitations&quot;</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-14-15><a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;email&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;alice@edu.edu&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;role&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;member&quot;</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-14-16><a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;email&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;bob@edu.edu&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;role&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;member&quot;</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-14-17><a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a><span class=w>    </span><span class=p>...</span>
</span><span id=__span-14-18><a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-14-19><a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a><span class=w>  </span><span class=s2>&quot;message&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Welcome to CS499 Spring 2026!&quot;</span>
</span><span id=__span-14-20><a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a><span class=p>}</span>
</span><span id=__span-14-21><a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a>
</span><span id=__span-14-22><a id=__codelineno-14-22 name=__codelineno-14-22 href=#__codelineno-14-22></a><span class=c1>// Response:</span>
</span><span id=__span-14-23><a id=__codelineno-14-23 name=__codelineno-14-23 href=#__codelineno-14-23></a><span class=p>{</span>
</span><span id=__span-14-24><a id=__codelineno-14-24 name=__codelineno-14-24 href=#__codelineno-14-24></a><span class=w>  </span><span class=s2>&quot;success&quot;</span><span class=o>:</span><span class=w> </span><span class=mf>48</span><span class=p>,</span>
</span><span id=__span-14-25><a id=__codelineno-14-25 name=__codelineno-14-25 href=#__codelineno-14-25></a><span class=w>  </span><span class=s2>&quot;failed&quot;</span><span class=o>:</span><span class=w> </span><span class=mf>2</span><span class=p>,</span>
</span><span id=__span-14-26><a id=__codelineno-14-26 name=__codelineno-14-26 href=#__codelineno-14-26></a><span class=w>  </span><span class=s2>&quot;errors&quot;</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-14-27><a id=__codelineno-14-27 name=__codelineno-14-27 href=#__codelineno-14-27></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;email&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;invalid@&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;error&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Invalid email format&quot;</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-14-28><a id=__codelineno-14-28 name=__codelineno-14-28 href=#__codelineno-14-28></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;email&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;existing@edu.edu&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;error&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Already a member&quot;</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-14-29><a id=__codelineno-14-29 name=__codelineno-14-29 href=#__codelineno-14-29></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-14-30><a id=__codelineno-14-30 name=__codelineno-14-30 href=#__codelineno-14-30></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>GUI Features</strong>: - CSV file upload - CSV validation preview - Duplicate detection (already members) - Email validation - Role assignment (bulk or per-row) - Progress bar during sending - Summary report (success/failed)</p> <p><strong>Implementation Tasks</strong>: - [ ] Add bulk invitation API endpoint - [ ] Implement CSV parsing and validation - [ ] Create BulkInvitationDialog component - [ ] Add progress tracking - [ ] Generate detailed result report - [ ] Add CSV template download - [ ] Handle rate limiting for large batches</p> <hr> <h3 id=5-integration-with-research-user-system>5. Integration with Research User System<a class=headerlink href=#5-integration-with-research-user-system title="Permanent link">&para;</a></h3> <p><strong>Priority</strong>: P1 (Existing feature integration) <strong>Effort</strong>: Small (1-2 days) <strong>Impact</strong>: Medium (Seamless workflow)</p> <p><strong>Workflow</strong>: 1. User accepts project invitation 2. System checks if user has research user account 3. If not â†’ Create research user automatically 4. Provision research user on project workspaces 5. User can immediately SSH to workspaces</p> <p><strong>Auto-Provisioning</strong>: <div class="language-go highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1>// After invitation acceptance</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=kd>func</span><span class=w> </span><span class=nx>OnInvitationAccepted</span><span class=p>(</span><span class=nx>invitation</span><span class=w> </span><span class=o>*</span><span class=nx>Invitation</span><span class=p>)</span><span class=w> </span><span class=kt>error</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>    </span><span class=c1>// 1. Add user to project</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>project</span><span class=p>.</span><span class=nx>AddMember</span><span class=p>(</span><span class=nx>invitation</span><span class=p>.</span><span class=nx>Email</span><span class=p>,</span><span class=w> </span><span class=nx>invitation</span><span class=p>.</span><span class=nx>Role</span><span class=p>)</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>err</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=w>    </span><span class=c1>// 2. Check for research user</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=w>    </span><span class=nx>user</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>researchUserManager</span><span class=p>.</span><span class=nx>GetByEmail</span><span class=p>(</span><span class=nx>invitation</span><span class=p>.</span><span class=nx>Email</span><span class=p>)</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>ErrUserNotFound</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=w>        </span><span class=c1>// Create research user automatically</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=w>        </span><span class=nx>user</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>researchUserManager</span><span class=p>.</span><span class=nx>Create</span><span class=p>(</span><span class=nx>ResearchUserRequest</span><span class=p>{</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a><span class=w>            </span><span class=nx>Username</span><span class=p>:</span><span class=w> </span><span class=nx>generateUsername</span><span class=p>(</span><span class=nx>invitation</span><span class=p>.</span><span class=nx>Email</span><span class=p>),</span>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a><span class=w>            </span><span class=nx>Email</span><span class=p>:</span><span class=w>    </span><span class=nx>invitation</span><span class=p>.</span><span class=nx>Email</span><span class=p>,</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a><span class=w>            </span><span class=nx>Profile</span><span class=p>:</span><span class=w>  </span><span class=nx>project</span><span class=p>.</span><span class=nx>Profile</span><span class=p>,</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=w>        </span><span class=p>})</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>err</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-22><a id=__codelineno-15-22 name=__codelineno-15-22 href=#__codelineno-15-22></a>
</span><span id=__span-15-23><a id=__codelineno-15-23 name=__codelineno-15-23 href=#__codelineno-15-23></a><span class=w>    </span><span class=c1>// 3. Provision on existing project workspaces</span>
</span><span id=__span-15-24><a id=__codelineno-15-24 name=__codelineno-15-24 href=#__codelineno-15-24></a><span class=w>    </span><span class=nx>workspaces</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>project</span><span class=p>.</span><span class=nx>GetWorkspaces</span><span class=p>()</span>
</span><span id=__span-15-25><a id=__codelineno-15-25 name=__codelineno-15-25 href=#__codelineno-15-25></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>workspace</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>workspaces</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-26><a id=__codelineno-15-26 name=__codelineno-15-26 href=#__codelineno-15-26></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>workspace</span><span class=p>.</span><span class=nx>State</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;running&quot;</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-27><a id=__codelineno-15-27 name=__codelineno-15-27 href=#__codelineno-15-27></a><span class=w>            </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>researchUserProvisioner</span><span class=p>.</span><span class=nx>Provision</span><span class=p>(</span><span class=nx>workspace</span><span class=p>,</span><span class=w> </span><span class=nx>user</span><span class=p>)</span>
</span><span id=__span-15-28><a id=__codelineno-15-28 name=__codelineno-15-28 href=#__codelineno-15-28></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-29><a id=__codelineno-15-29 name=__codelineno-15-29 href=#__codelineno-15-29></a><span class=w>                </span><span class=nx>log</span><span class=p>.</span><span class=nx>Errorf</span><span class=p>(</span><span class=s>&quot;Failed to provision user on workspace %s: %v&quot;</span><span class=p>,</span>
</span><span id=__span-15-30><a id=__codelineno-15-30 name=__codelineno-15-30 href=#__codelineno-15-30></a><span class=w>                    </span><span class=nx>workspace</span><span class=p>.</span><span class=nx>ID</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span>
</span><span id=__span-15-31><a id=__codelineno-15-31 name=__codelineno-15-31 href=#__codelineno-15-31></a><span class=w>                </span><span class=c1>// Non-blocking - user will be provisioned on next launch</span>
</span><span id=__span-15-32><a id=__codelineno-15-32 name=__codelineno-15-32 href=#__codelineno-15-32></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-15-33><a id=__codelineno-15-33 name=__codelineno-15-33 href=#__codelineno-15-33></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-15-34><a id=__codelineno-15-34 name=__codelineno-15-34 href=#__codelineno-15-34></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-15-35><a id=__codelineno-15-35 name=__codelineno-15-35 href=#__codelineno-15-35></a>
</span><span id=__span-15-36><a id=__codelineno-15-36 name=__codelineno-15-36 href=#__codelineno-15-36></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span>
</span><span id=__span-15-37><a id=__codelineno-15-37 name=__codelineno-15-37 href=#__codelineno-15-37></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>Implementation Tasks</strong>: - [ ] Add auto-provisioning after invitation acceptance - [ ] Update workspace launch to provision all project members - [ ] Add research user status to project member display - [ ] Handle research user creation errors gracefully - [ ] Add retroactive provisioning for running workspaces - [ ] Document research user integration</p> <hr> <h3 id=6-aws-quota-validation-for-invitations>6. AWS Quota Validation for Invitations<a class=headerlink href=#6-aws-quota-validation-for-invitations title="Permanent link">&para;</a></h3> <p><strong>Priority</strong>: P0 (Prevents class setup failures) <strong>Effort</strong>: Medium (2-3 days) <strong>Impact</strong>: Critical (Classroom use case)</p> <p><strong>Problem</strong>: - Professor invites 40 students to CS499 - Each student will launch python-ml template (t3.xlarge = 4 vCPUs) - Total needed: 40 Ã— 4 = 160 vCPUs - AWS account quota: 32 vCPUs (default for new accounts) - Result: 8 students succeed, 32 fail with quota errors â†’ chaos</p> <p><strong>Solution</strong>: Pre-flight quota validation during invitation setup</p> <p><strong>Workflow</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>1. Professor selects project template (python-ml)
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>2. Professor enters number of students (40)
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>3. System calculates: 40 Ã— 4 vCPUs = 160 vCPUs needed
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>4. System checks AWS quotas:
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>   - Current quota: 32 vCPUs
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>   - Current usage: 8 vCPUs (2 existing workspaces)
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>   - Available: 24 vCPUs
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>   - Needed: 160 vCPUs
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>   - Shortfall: 136 vCPUs
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>5. System shows warning with guidance
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>6. Professor can request quota increase or adjust plan
</span></code></pre></div></p> <p><strong>Implementation</strong>:</p> <h4 id=quota-calculator>Quota Calculator<a class=headerlink href=#quota-calculator title="Permanent link">&para;</a></h4> <div class="language-go highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1>// pkg/aws/quota.go</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=kd>type</span><span class=w> </span><span class=nx>QuotaRequirement</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>    </span><span class=nx>Template</span><span class=w>      </span><span class=kt>string</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>    </span><span class=nx>InstanceType</span><span class=w>  </span><span class=kt>string</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=w>    </span><span class=nx>VCPUsPerInstance</span><span class=w> </span><span class=kt>int</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>    </span><span class=nx>Count</span><span class=w>         </span><span class=kt>int</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=nx>TotalVCPUs</span><span class=w>    </span><span class=kt>int</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=p>}</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=kd>func</span><span class=w> </span><span class=nx>CalculateQuotaNeeds</span><span class=p>(</span><span class=nx>template</span><span class=w> </span><span class=nx>Template</span><span class=p>,</span><span class=w> </span><span class=nx>count</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=nx>QuotaRequirement</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=w>    </span><span class=nx>instanceType</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>template</span><span class=p>.</span><span class=nx>DefaultInstanceType</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=w>    </span><span class=nx>vcpus</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>GetInstanceTypeVCPUs</span><span class=p>(</span><span class=nx>instanceType</span><span class=p>)</span>
</span><span id=__span-17-13><a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a>
</span><span id=__span-17-14><a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>QuotaRequirement</span><span class=p>{</span>
</span><span id=__span-17-15><a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a><span class=w>        </span><span class=nx>Template</span><span class=p>:</span><span class=w>         </span><span class=nx>template</span><span class=p>.</span><span class=nx>Name</span><span class=p>,</span>
</span><span id=__span-17-16><a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a><span class=w>        </span><span class=nx>InstanceType</span><span class=p>:</span><span class=w>     </span><span class=nx>instanceType</span><span class=p>,</span>
</span><span id=__span-17-17><a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a><span class=w>        </span><span class=nx>VCPUsPerInstance</span><span class=p>:</span><span class=w> </span><span class=nx>vcpus</span><span class=p>,</span>
</span><span id=__span-17-18><a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a><span class=w>        </span><span class=nx>Count</span><span class=p>:</span><span class=w>            </span><span class=nx>count</span><span class=p>,</span>
</span><span id=__span-17-19><a id=__codelineno-17-19 name=__codelineno-17-19 href=#__codelineno-17-19></a><span class=w>        </span><span class=nx>TotalVCPUs</span><span class=p>:</span><span class=w>       </span><span class=nx>vcpus</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>count</span><span class=p>,</span>
</span><span id=__span-17-20><a id=__codelineno-17-20 name=__codelineno-17-20 href=#__codelineno-17-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-21><a id=__codelineno-17-21 name=__codelineno-17-21 href=#__codelineno-17-21></a><span class=p>}</span>
</span><span id=__span-17-22><a id=__codelineno-17-22 name=__codelineno-17-22 href=#__codelineno-17-22></a>
</span><span id=__span-17-23><a id=__codelineno-17-23 name=__codelineno-17-23 href=#__codelineno-17-23></a><span class=kd>type</span><span class=w> </span><span class=nx>QuotaStatus</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-24><a id=__codelineno-17-24 name=__codelineno-17-24 href=#__codelineno-17-24></a><span class=w>    </span><span class=nx>QuotaName</span><span class=w>       </span><span class=kt>string</span><span class=w>  </span><span class=c1>// &quot;L-1216C47A&quot; (On-Demand Standard vCPUs)</span>
</span><span id=__span-17-25><a id=__codelineno-17-25 name=__codelineno-17-25 href=#__codelineno-17-25></a><span class=w>    </span><span class=nx>CurrentQuota</span><span class=w>    </span><span class=kt>int</span>
</span><span id=__span-17-26><a id=__codelineno-17-26 name=__codelineno-17-26 href=#__codelineno-17-26></a><span class=w>    </span><span class=nx>CurrentUsage</span><span class=w>    </span><span class=kt>int</span>
</span><span id=__span-17-27><a id=__codelineno-17-27 name=__codelineno-17-27 href=#__codelineno-17-27></a><span class=w>    </span><span class=nx>Available</span><span class=w>       </span><span class=kt>int</span>
</span><span id=__span-17-28><a id=__codelineno-17-28 name=__codelineno-17-28 href=#__codelineno-17-28></a><span class=w>    </span><span class=nx>Needed</span><span class=w>          </span><span class=kt>int</span>
</span><span id=__span-17-29><a id=__codelineno-17-29 name=__codelineno-17-29 href=#__codelineno-17-29></a><span class=w>    </span><span class=nx>Sufficient</span><span class=w>      </span><span class=kt>bool</span>
</span><span id=__span-17-30><a id=__codelineno-17-30 name=__codelineno-17-30 href=#__codelineno-17-30></a><span class=w>    </span><span class=nx>Shortfall</span><span class=w>       </span><span class=kt>int</span>
</span><span id=__span-17-31><a id=__codelineno-17-31 name=__codelineno-17-31 href=#__codelineno-17-31></a><span class=w>    </span><span class=nx>RequestURL</span><span class=w>      </span><span class=kt>string</span><span class=w>  </span><span class=c1>// AWS Service Quotas URL</span>
</span><span id=__span-17-32><a id=__codelineno-17-32 name=__codelineno-17-32 href=#__codelineno-17-32></a><span class=p>}</span>
</span><span id=__span-17-33><a id=__codelineno-17-33 name=__codelineno-17-33 href=#__codelineno-17-33></a>
</span><span id=__span-17-34><a id=__codelineno-17-34 name=__codelineno-17-34 href=#__codelineno-17-34></a><span class=kd>func</span><span class=w> </span><span class=nx>CheckQuota</span><span class=p>(</span><span class=nx>region</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>requirement</span><span class=w> </span><span class=nx>QuotaRequirement</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=nx>QuotaStatus</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-35><a id=__codelineno-17-35 name=__codelineno-17-35 href=#__codelineno-17-35></a><span class=w>    </span><span class=c1>// Use AWS Service Quotas API</span>
</span><span id=__span-17-36><a id=__codelineno-17-36 name=__codelineno-17-36 href=#__codelineno-17-36></a><span class=w>    </span><span class=nx>svc</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>servicequotas</span><span class=p>.</span><span class=nx>New</span><span class=p>(</span><span class=nx>session</span><span class=p>.</span><span class=nx>New</span><span class=p>(),</span><span class=w> </span><span class=nx>aws</span><span class=p>.</span><span class=nx>NewConfig</span><span class=p>().</span><span class=nx>WithRegion</span><span class=p>(</span><span class=nx>region</span><span class=p>))</span>
</span><span id=__span-17-37><a id=__codelineno-17-37 name=__codelineno-17-37 href=#__codelineno-17-37></a>
</span><span id=__span-17-38><a id=__codelineno-17-38 name=__codelineno-17-38 href=#__codelineno-17-38></a><span class=w>    </span><span class=c1>// Get current quota for on-demand vCPUs</span>
</span><span id=__span-17-39><a id=__codelineno-17-39 name=__codelineno-17-39 href=#__codelineno-17-39></a><span class=w>    </span><span class=nx>quotaResp</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>svc</span><span class=p>.</span><span class=nx>GetServiceQuota</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>servicequotas</span><span class=p>.</span><span class=nx>GetServiceQuotaInput</span><span class=p>{</span>
</span><span id=__span-17-40><a id=__codelineno-17-40 name=__codelineno-17-40 href=#__codelineno-17-40></a><span class=w>        </span><span class=nx>ServiceCode</span><span class=p>:</span><span class=w> </span><span class=nx>aws</span><span class=p>.</span><span class=nx>String</span><span class=p>(</span><span class=s>&quot;ec2&quot;</span><span class=p>),</span>
</span><span id=__span-17-41><a id=__codelineno-17-41 name=__codelineno-17-41 href=#__codelineno-17-41></a><span class=w>        </span><span class=nx>QuotaCode</span><span class=p>:</span><span class=w>   </span><span class=nx>aws</span><span class=p>.</span><span class=nx>String</span><span class=p>(</span><span class=s>&quot;L-1216C47A&quot;</span><span class=p>),</span><span class=w> </span><span class=c1>// On-Demand Standard vCPUs</span>
</span><span id=__span-17-42><a id=__codelineno-17-42 name=__codelineno-17-42 href=#__codelineno-17-42></a><span class=w>    </span><span class=p>})</span>
</span><span id=__span-17-43><a id=__codelineno-17-43 name=__codelineno-17-43 href=#__codelineno-17-43></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-44><a id=__codelineno-17-44 name=__codelineno-17-44 href=#__codelineno-17-44></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
</span><span id=__span-17-45><a id=__codelineno-17-45 name=__codelineno-17-45 href=#__codelineno-17-45></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-46><a id=__codelineno-17-46 name=__codelineno-17-46 href=#__codelineno-17-46></a>
</span><span id=__span-17-47><a id=__codelineno-17-47 name=__codelineno-17-47 href=#__codelineno-17-47></a><span class=w>    </span><span class=nx>currentQuota</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=o>*</span><span class=nx>quotaResp</span><span class=p>.</span><span class=nx>Quota</span><span class=p>.</span><span class=nx>Value</span><span class=p>)</span>
</span><span id=__span-17-48><a id=__codelineno-17-48 name=__codelineno-17-48 href=#__codelineno-17-48></a>
</span><span id=__span-17-49><a id=__codelineno-17-49 name=__codelineno-17-49 href=#__codelineno-17-49></a><span class=w>    </span><span class=c1>// Get current vCPU usage</span>
</span><span id=__span-17-50><a id=__codelineno-17-50 name=__codelineno-17-50 href=#__codelineno-17-50></a><span class=w>    </span><span class=nx>currentUsage</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>getCurrentVCPUUsage</span><span class=p>(</span><span class=nx>region</span><span class=p>)</span>
</span><span id=__span-17-51><a id=__codelineno-17-51 name=__codelineno-17-51 href=#__codelineno-17-51></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-52><a id=__codelineno-17-52 name=__codelineno-17-52 href=#__codelineno-17-52></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
</span><span id=__span-17-53><a id=__codelineno-17-53 name=__codelineno-17-53 href=#__codelineno-17-53></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-54><a id=__codelineno-17-54 name=__codelineno-17-54 href=#__codelineno-17-54></a>
</span><span id=__span-17-55><a id=__codelineno-17-55 name=__codelineno-17-55 href=#__codelineno-17-55></a><span class=w>    </span><span class=nx>available</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>currentQuota</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=nx>currentUsage</span>
</span><span id=__span-17-56><a id=__codelineno-17-56 name=__codelineno-17-56 href=#__codelineno-17-56></a><span class=w>    </span><span class=nx>sufficient</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>available</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=nx>requirement</span><span class=p>.</span><span class=nx>TotalVCPUs</span>
</span><span id=__span-17-57><a id=__codelineno-17-57 name=__codelineno-17-57 href=#__codelineno-17-57></a><span class=w>    </span><span class=nx>shortfall</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span>
</span><span id=__span-17-58><a id=__codelineno-17-58 name=__codelineno-17-58 href=#__codelineno-17-58></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>!</span><span class=nx>sufficient</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-17-59><a id=__codelineno-17-59 name=__codelineno-17-59 href=#__codelineno-17-59></a><span class=w>        </span><span class=nx>shortfall</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>requirement</span><span class=p>.</span><span class=nx>TotalVCPUs</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=nx>available</span>
</span><span id=__span-17-60><a id=__codelineno-17-60 name=__codelineno-17-60 href=#__codelineno-17-60></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-17-61><a id=__codelineno-17-61 name=__codelineno-17-61 href=#__codelineno-17-61></a>
</span><span id=__span-17-62><a id=__codelineno-17-62 name=__codelineno-17-62 href=#__codelineno-17-62></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&amp;</span><span class=nx>QuotaStatus</span><span class=p>{</span>
</span><span id=__span-17-63><a id=__codelineno-17-63 name=__codelineno-17-63 href=#__codelineno-17-63></a><span class=w>        </span><span class=nx>QuotaName</span><span class=p>:</span><span class=w>    </span><span class=s>&quot;On-Demand Standard vCPUs&quot;</span><span class=p>,</span>
</span><span id=__span-17-64><a id=__codelineno-17-64 name=__codelineno-17-64 href=#__codelineno-17-64></a><span class=w>        </span><span class=nx>CurrentQuota</span><span class=p>:</span><span class=w> </span><span class=nx>currentQuota</span><span class=p>,</span>
</span><span id=__span-17-65><a id=__codelineno-17-65 name=__codelineno-17-65 href=#__codelineno-17-65></a><span class=w>        </span><span class=nx>CurrentUsage</span><span class=p>:</span><span class=w> </span><span class=nx>currentUsage</span><span class=p>,</span>
</span><span id=__span-17-66><a id=__codelineno-17-66 name=__codelineno-17-66 href=#__codelineno-17-66></a><span class=w>        </span><span class=nx>Available</span><span class=p>:</span><span class=w>    </span><span class=nx>available</span><span class=p>,</span>
</span><span id=__span-17-67><a id=__codelineno-17-67 name=__codelineno-17-67 href=#__codelineno-17-67></a><span class=w>        </span><span class=nx>Needed</span><span class=p>:</span><span class=w>       </span><span class=nx>requirement</span><span class=p>.</span><span class=nx>TotalVCPUs</span><span class=p>,</span>
</span><span id=__span-17-68><a id=__codelineno-17-68 name=__codelineno-17-68 href=#__codelineno-17-68></a><span class=w>        </span><span class=nx>Sufficient</span><span class=p>:</span><span class=w>   </span><span class=nx>sufficient</span><span class=p>,</span>
</span><span id=__span-17-69><a id=__codelineno-17-69 name=__codelineno-17-69 href=#__codelineno-17-69></a><span class=w>        </span><span class=nx>Shortfall</span><span class=p>:</span><span class=w>    </span><span class=nx>shortfall</span><span class=p>,</span>
</span><span id=__span-17-70><a id=__codelineno-17-70 name=__codelineno-17-70 href=#__codelineno-17-70></a><span class=w>        </span><span class=nx>RequestURL</span><span class=p>:</span><span class=w>   </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;https://console.aws.amazon.com/servicequotas/home/services/ec2/quotas/L-1216C47A?region=%s&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>region</span><span class=p>),</span>
</span><span id=__span-17-71><a id=__codelineno-17-71 name=__codelineno-17-71 href=#__codelineno-17-71></a><span class=w>    </span><span class=p>},</span><span class=w> </span><span class=kc>nil</span>
</span><span id=__span-17-72><a id=__codelineno-17-72 name=__codelineno-17-72 href=#__codelineno-17-72></a><span class=p>}</span>
</span></code></pre></div> <h4 id=gui-quota-warning-dialog>GUI Quota Warning Dialog<a class=headerlink href=#gui-quota-warning-dialog title="Permanent link">&para;</a></h4> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1>// cmd/prism-gui/frontend/src/components/QuotaWarningDialog.tsx</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=kd>interface</span><span class=w> </span><span class=nx>QuotaWarningProps</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=w>  </span><span class=nx>requirement</span><span class=o>:</span><span class=w> </span><span class=kt>QuotaRequirement</span><span class=p>;</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=w>  </span><span class=nx>status</span><span class=o>:</span><span class=w> </span><span class=kt>QuotaStatus</span><span class=p>;</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=w>  </span><span class=nx>onRequestIncrease</span><span class=o>:</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>;</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=w>  </span><span class=nx>onProceedAnyway</span><span class=o>:</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>;</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=w>  </span><span class=nx>onCancel</span><span class=o>:</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=ow>void</span><span class=p>;</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a><span class=p>}</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=c1>// Display:</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a><span class=c1>// âš ï¸  Insufficient AWS vCPU Quota</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a><span class=c1>//</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a><span class=c1>// You&#39;re inviting 40 students to use the &quot;Python ML&quot; template.</span>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=c1>// Each workspace requires 4 vCPUs (t3.xlarge).</span>
</span><span id=__span-18-15><a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a><span class=c1>//</span>
</span><span id=__span-18-16><a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a><span class=c1>// Total needed:  160 vCPUs</span>
</span><span id=__span-18-17><a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a><span class=c1>// Current quota: 32 vCPUs</span>
</span><span id=__span-18-18><a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a><span class=c1>// Currently used: 8 vCPUs (2 workspaces)</span>
</span><span id=__span-18-19><a id=__codelineno-18-19 name=__codelineno-18-19 href=#__codelineno-18-19></a><span class=c1>// Available:     24 vCPUs</span>
</span><span id=__span-18-20><a id=__codelineno-18-20 name=__codelineno-18-20 href=#__codelineno-18-20></a><span class=c1>// Shortfall:     136 vCPUs</span>
</span><span id=__span-18-21><a id=__codelineno-18-21 name=__codelineno-18-21 href=#__codelineno-18-21></a><span class=c1>//</span>
</span><span id=__span-18-22><a id=__codelineno-18-22 name=__codelineno-18-22 href=#__codelineno-18-22></a><span class=c1>// âš ï¸  Only 6 students will be able to launch workspaces with current quota.</span>
</span><span id=__span-18-23><a id=__codelineno-18-23 name=__codelineno-18-23 href=#__codelineno-18-23></a><span class=c1>//</span>
</span><span id=__span-18-24><a id=__codelineno-18-24 name=__codelineno-18-24 href=#__codelineno-18-24></a><span class=c1>// Options:</span>
</span><span id=__span-18-25><a id=__codelineno-18-25 name=__codelineno-18-25 href=#__codelineno-18-25></a><span class=c1>// 1. Request quota increase from AWS (recommended)</span>
</span><span id=__span-18-26><a id=__codelineno-18-26 name=__codelineno-18-26 href=#__codelineno-18-26></a><span class=c1>//    - Takes 1-2 business days</span>
</span><span id=__span-18-27><a id=__codelineno-18-27 name=__codelineno-18-27 href=#__codelineno-18-27></a><span class=c1>//    - Usually approved automatically</span>
</span><span id=__span-18-28><a id=__codelineno-18-28 name=__codelineno-18-28 href=#__codelineno-18-28></a><span class=c1>//    - [Request Increase] button</span>
</span><span id=__span-18-29><a id=__codelineno-18-29 name=__codelineno-18-29 href=#__codelineno-18-29></a><span class=c1>//</span>
</span><span id=__span-18-30><a id=__codelineno-18-30 name=__codelineno-18-30 href=#__codelineno-18-30></a><span class=c1>// 2. Choose smaller instance type</span>
</span><span id=__span-18-31><a id=__codelineno-18-31 name=__codelineno-18-31 href=#__codelineno-18-31></a><span class=c1>//    - t3.medium: 2 vCPUs â†’ 12 students can launch</span>
</span><span id=__span-18-32><a id=__codelineno-18-32 name=__codelineno-18-32 href=#__codelineno-18-32></a><span class=c1>//    - t3.small: 1 vCPU â†’ 24 students can launch</span>
</span><span id=__span-18-33><a id=__codelineno-18-33 name=__codelineno-18-33 href=#__codelineno-18-33></a><span class=c1>//</span>
</span><span id=__span-18-34><a id=__codelineno-18-34 name=__codelineno-18-34 href=#__codelineno-18-34></a><span class=c1>// 3. Proceed anyway (not recommended)</span>
</span><span id=__span-18-35><a id=__codelineno-18-35 name=__codelineno-18-35 href=#__codelineno-18-35></a><span class=c1>//    - First 6 students succeed, others fail</span>
</span><span id=__span-18-36><a id=__codelineno-18-36 name=__codelineno-18-36 href=#__codelineno-18-36></a><span class=c1>//    - Will cause confusion and support issues</span>
</span></code></pre></div> <h4 id=cli-quota-check>CLI Quota Check<a class=headerlink href=#cli-quota-check title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>$<span class=w> </span>prism<span class=w> </span>project<span class=w> </span>create<span class=w> </span>cs499<span class=w> </span>--template<span class=w> </span>python-ml<span class=w> </span>--students<span class=w> </span><span class=m>40</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>Checking<span class=w> </span>AWS<span class=w> </span>quotas...
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>âš ï¸<span class=w>  </span>Insufficient<span class=w> </span>vCPU<span class=w> </span>Quota
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>Template:<span class=w> </span>Python<span class=w> </span>ML<span class=w> </span><span class=o>(</span>t3.xlarge,<span class=w> </span><span class=m>4</span><span class=w> </span>vCPUs<span class=w> </span>each<span class=o>)</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>Students:<span class=w> </span><span class=m>40</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>Total<span class=w> </span>needed:<span class=w> </span><span class=m>160</span><span class=w> </span>vCPUs
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>Current<span class=w> </span>AWS<span class=w> </span>quota:<span class=w> </span><span class=m>32</span><span class=w> </span>vCPUs
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a>Currently<span class=w> </span>used:<span class=w> </span><span class=m>8</span><span class=w> </span>vCPUs<span class=w> </span><span class=o>(</span><span class=m>2</span><span class=w> </span>workspaces<span class=o>)</span>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a>Available:<span class=w> </span><span class=m>24</span><span class=w> </span>vCPUs
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a>Shortfall:<span class=w> </span><span class=m>136</span><span class=w> </span>vCPUs
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a>Only<span class=w> </span><span class=m>6</span><span class=w> </span>students<span class=w> </span>will<span class=w> </span>be<span class=w> </span>able<span class=w> </span>to<span class=w> </span>launch<span class=w> </span>workspaces.
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a>
</span><span id=__span-19-18><a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a>Recommendations:
</span><span id=__span-19-19><a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a><span class=m>1</span>.<span class=w> </span>Request<span class=w> </span>quota<span class=w> </span>increase<span class=w> </span><span class=o>(</span>recommended<span class=o>)</span>:
</span><span id=__span-19-20><a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a><span class=w>   </span>aws<span class=w> </span>service-quotas<span class=w> </span>request-service-quota-increase<span class=w> </span><span class=se>\</span>
</span><span id=__span-19-21><a id=__codelineno-19-21 name=__codelineno-19-21 href=#__codelineno-19-21></a><span class=w>     </span>--service-code<span class=w> </span>ec2<span class=w> </span><span class=se>\</span>
</span><span id=__span-19-22><a id=__codelineno-19-22 name=__codelineno-19-22 href=#__codelineno-19-22></a><span class=w>     </span>--quota-code<span class=w> </span>L-1216C47A<span class=w> </span><span class=se>\</span>
</span><span id=__span-19-23><a id=__codelineno-19-23 name=__codelineno-19-23 href=#__codelineno-19-23></a><span class=w>     </span>--desired-value<span class=w> </span><span class=m>192</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-19-24><a id=__codelineno-19-24 name=__codelineno-19-24 href=#__codelineno-19-24></a><span class=w>     </span>--region<span class=w> </span>us-west-2
</span><span id=__span-19-25><a id=__codelineno-19-25 name=__codelineno-19-25 href=#__codelineno-19-25></a>
</span><span id=__span-19-26><a id=__codelineno-19-26 name=__codelineno-19-26 href=#__codelineno-19-26></a><span class=w>   </span>Or<span class=w> </span>via<span class=w> </span>web:<span class=w> </span>https://console.aws.amazon.com/servicequotas/...
</span><span id=__span-19-27><a id=__codelineno-19-27 name=__codelineno-19-27 href=#__codelineno-19-27></a>
</span><span id=__span-19-28><a id=__codelineno-19-28 name=__codelineno-19-28 href=#__codelineno-19-28></a><span class=m>2</span>.<span class=w> </span>Use<span class=w> </span>smaller<span class=w> </span>instance<span class=w> </span>type:
</span><span id=__span-19-29><a id=__codelineno-19-29 name=__codelineno-19-29 href=#__codelineno-19-29></a><span class=w>   </span>--template<span class=w> </span>python-ml<span class=w> </span>--instance-type<span class=w> </span>t3.medium<span class=w>  </span><span class=c1># 2 vCPUs â†’ 12 students</span>
</span><span id=__span-19-30><a id=__codelineno-19-30 name=__codelineno-19-30 href=#__codelineno-19-30></a><span class=w>   </span>--template<span class=w> </span>python-ml<span class=w> </span>--instance-type<span class=w> </span>t3.small<span class=w>   </span><span class=c1># 1 vCPU â†’ 24 students</span>
</span><span id=__span-19-31><a id=__codelineno-19-31 name=__codelineno-19-31 href=#__codelineno-19-31></a>
</span><span id=__span-19-32><a id=__codelineno-19-32 name=__codelineno-19-32 href=#__codelineno-19-32></a><span class=m>3</span>.<span class=w> </span>Proceed<span class=w> </span>anyway<span class=w> </span><span class=o>(</span>not<span class=w> </span>recommended<span class=o>)</span>:
</span><span id=__span-19-33><a id=__codelineno-19-33 name=__codelineno-19-33 href=#__codelineno-19-33></a><span class=w>   </span>--skip-quota-check
</span><span id=__span-19-34><a id=__codelineno-19-34 name=__codelineno-19-34 href=#__codelineno-19-34></a>
</span><span id=__span-19-35><a id=__codelineno-19-35 name=__codelineno-19-35 href=#__codelineno-19-35></a>Abort<span class=w> </span>project<span class=w> </span>creation?<span class=w> </span><span class=o>[</span>Y/n<span class=o>]</span>:
</span></code></pre></div> <h4 id=api-endpoints>API Endpoints<a class=headerlink href=#api-endpoints title="Permanent link">&para;</a></h4> <div class="language-text highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>POST /api/v1/quotas/check          # Check quota for requirement
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>POST /api/v1/quotas/request        # Request quota increase
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>GET  /api/v1/quotas/requests/{id}  # Check quota request status
</span></code></pre></div> <p><strong>Integration with Invitation Flow</strong>:</p> <ol> <li><strong>Project Creation with Template</strong>:</li> <li>User specifies expected number of members</li> <li>System calculates quota needs based on template</li> <li> <p>Shows warning if insufficient</p> </li> <li> <p><strong>Bulk Invitation</strong>:</p> </li> <li>Before sending invitations, check quota</li> <li>Warn if some users won't be able to launch</li> <li> <p>Suggest requesting increase or adjusting plan</p> </li> <li> <p><strong>Invitation Acceptance</strong>:</p> </li> <li>When user accepts invitation and tries to launch</li> <li>If quota insufficient, show helpful error</li> <li>Guide to contact project admin for quota increase</li> </ol> <p><strong>Implementation Tasks</strong>: - [ ] Implement quota calculation logic - [ ] Add AWS Service Quotas API integration - [ ] Create quota checking during project setup - [ ] Add quota warning dialogs (CLI + GUI) - [ ] Add quota increase request workflow - [ ] Integrate with invitation flow - [ ] Add helpful error messages when quota exceeded - [ ] Test with various template/instance types</p> <hr> <h2 id=implementation-schedule>ðŸ“… Implementation Schedule<a class=headerlink href=#implementation-schedule title="Permanent link">&para;</a></h2> <h3 id=week-1-mar-1-7-backend-email-system>Week 1 (Mar 1-7): Backend &amp; Email System<a class=headerlink href=#week-1-mar-1-7-backend-email-system title="Permanent link">&para;</a></h3> <p><strong>Days 1-2</strong>: Invitation data model and API - Design invitation schema - Implement CRUD endpoints - Add token generation and validation</p> <p><strong>Days 3-4</strong>: Email integration - Set up email sending (SMTP/SendGrid) - Create email templates - Test invitation sending and acceptance</p> <p><strong>Day 5</strong>: Permission system enhancement - Define permission matrix - Implement permission checking - Add API middleware</p> <h3 id=week-2-mar-8-14-frontend-integration>Week 2 (Mar 8-14): Frontend &amp; Integration<a class=headerlink href=#week-2-mar-8-14-frontend-integration title="Permanent link">&para;</a></h3> <p><strong>Days 1-2</strong>: Invitation GUI - Enhance ProjectDetail Members tab - Create InvitationDialog - Create MyInvitations page</p> <p><strong>Day 3</strong>: Quota validation integration - Add AWS Service Quotas API integration - Implement quota checking during project setup - Add quota warning dialogs - Test with various scenarios</p> <p><strong>Day 4</strong>: Bulk invitation &amp; research users - Implement CSV upload and parsing - Add BulkInvitationDialog - Add research user auto-provisioning - Test with large class roster</p> <p><strong>Day 5</strong>: Testing &amp; Polish - Persona walkthroughs - Permission testing - Quota validation testing - Email deliverability testing - Bug fixes - Documentation</p> <hr> <h2 id=testing-strategy>ðŸ§ª Testing Strategy<a class=headerlink href=#testing-strategy title="Permanent link">&para;</a></h2> <h3 id=backend-testing>Backend Testing<a class=headerlink href=#backend-testing title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Invitation CRUD operations</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Token generation and validation</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Expiration handling</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Duplicate invitation prevention</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Permission checking accuracy</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Email sending (mock SMTP)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Bulk invitation processing</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Research user auto-provisioning</li> </ul> <h3 id=frontend-testing>Frontend Testing<a class=headerlink href=#frontend-testing title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Invitation dialog workflow</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Member management interface</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> My Invitations page</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Acceptance landing page</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Bulk CSV upload</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Role permission preview</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Mobile responsiveness</li> </ul> <h3 id=security-testing>Security Testing<a class=headerlink href=#security-testing title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Token security (entropy, uniqueness)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Permission bypass attempts</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Expired invitation handling</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Email spoofing prevention</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> CSRF protection on acceptance</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Rate limiting on invitation sending</li> </ul> <h3 id=persona-walkthroughs>Persona Walkthroughs<a class=headerlink href=#persona-walkthroughs title="Permanent link">&para;</a></h3> <h4 id=lab-collaboration-new-member-onboarding>Lab Collaboration (New Member Onboarding)<a class=headerlink href=#lab-collaboration-new-member-onboarding title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: PI adds new postdoc to research group</p> <ol> <li>PI opens "ML Research" project</li> <li>Navigate to Members tab</li> <li>Click "Invite Member"</li> <li>Enter: jane.doe@university.edu, Role: Member</li> <li>Send invitation</li> <li>Jane receives email within 1 minute</li> <li>Jane clicks accept link</li> <li>Jane creates Prism account (or logs in)</li> <li>Jane automatically added to project</li> <li>Jane's research user created automatically</li> <li>Jane can immediately launch workspaces</li> <li>Jane can SSH to existing shared workspace</li> </ol> <p><strong>Time</strong>: &lt; 5 minutes from send to active</p> <h4 id=university-class-bulk-student-invitation>University Class (Bulk Student Invitation)<a class=headerlink href=#university-class-bulk-student-invitation title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: Professor sets up CS499 class with 30 students</p> <ol> <li>Professor creates "CS499 Spring 2026" project</li> <li>Navigate to Members tab</li> <li>Click "Bulk Invite"</li> <li>Download CSV template</li> <li>Fill CSV with 30 student emails (all role: member)</li> <li>Upload CSV</li> <li>Review validation preview (all valid)</li> <li>Click "Send Invitations"</li> <li>Progress bar shows 30/30 sent</li> <li>Students receive emails</li> <li>Students accept throughout the week</li> <li>Professor monitors pending/accepted status</li> <li>After all accept, launch template workspaces</li> <li>All students automatically provisioned</li> </ol> <p><strong>Time</strong>: &lt; 10 minutes to send 30 invitations</p> <h4 id=cross-institutional-collaboration>Cross-Institutional Collaboration<a class=headerlink href=#cross-institutional-collaboration title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: Multi-university research project</p> <ol> <li>Lead researcher creates "Climate Modeling Consortium" project</li> <li>Invite collaborators from 3 universities:</li> <li>alice@stanford.edu (Admin)</li> <li>bob@berkeley.edu (Member)</li> <li>carol@mit.edu (Member)</li> <li>External collaborators receive invitations</li> <li>Each accepts and joins project</li> <li>Research users created with consistent UIDs</li> <li>Shared EFS storage accessible to all</li> <li>Each can launch workspaces under project</li> <li>Budget tracked across all institutions</li> </ol> <p><strong>Time</strong>: &lt; 5 minutes per collaborator</p> <hr> <h2 id=documentation-updates>ðŸ“š Documentation Updates<a class=headerlink href=#documentation-updates title="Permanent link">&para;</a></h2> <h3 id=new-documentation>New Documentation<a class=headerlink href=#new-documentation title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> User invitation guide</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Role and permissions reference</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Bulk invitation tutorial (for classes)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Cross-institutional collaboration guide</li> </ul> <h3 id=updated-documentation>Updated Documentation<a class=headerlink href=#updated-documentation title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Project management section</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Member management documentation</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Security and access control</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> API reference (invitation endpoints)</li> </ul> <h3 id=release-notes>Release Notes<a class=headerlink href=#release-notes title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> New features (invitations, enhanced roles)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Permission changes</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> API additions</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Integration with research user system</li> </ul> <hr> <h2 id=release-criteria>ðŸš€ Release Criteria<a class=headerlink href=#release-criteria title="Permanent link">&para;</a></h2> <h3 id=must-have-blocking>Must Have (Blocking)<a class=headerlink href=#must-have-blocking title="Permanent link">&para;</a></h3> <ul> <li>âœ… Email invitation system working</li> <li>âœ… Role permission system enforced</li> <li>âœ… Invitation management GUI complete</li> <li>âœ… Bulk invitation functional</li> <li>âœ… Research user auto-provisioning working</li> <li>âœ… All persona tests pass</li> <li>âœ… Documentation complete</li> </ul> <h3 id=nice-to-have-non-blocking>Nice to Have (Non-Blocking)<a class=headerlink href=#nice-to-have-non-blocking title="Permanent link">&para;</a></h3> <ul> <li>Invitation templates (save/reuse invitation text)</li> <li>Calendar integration (add to calendar reminder)</li> <li>Invitation analytics (acceptance rate, time to accept)</li> <li>Invitation expiration customization</li> </ul> <hr> <h2 id=success-metrics-post-release>ðŸ“Š Success Metrics (Post-Release)<a class=headerlink href=#success-metrics-post-release title="Permanent link">&para;</a></h2> <p>Track for 2 weeks after release:</p> <ol> <li><strong>Invitation Acceptance Rate</strong></li> <li>Measure: % of sent invitations accepted</li> <li> <p>Target: &gt;85% acceptance rate</p> </li> <li> <p><strong>Time to First Collaboration</strong></p> </li> <li>Measure: Time from send to invitee active on workspace</li> <li> <p>Target: &lt;10 minutes (median)</p> </li> <li> <p><strong>Bulk Invitation Usage</strong></p> </li> <li>Measure: % of projects using bulk invite</li> <li> <p>Target: &gt;40% of class/group projects</p> </li> <li> <p><strong>Permission Clarity</strong></p> </li> <li>Measure: "Permission denied" support tickets</li> <li> <p>Target: &lt;2% of total support volume</p> </li> <li> <p><strong>Research User Integration</strong></p> </li> <li>Measure: % of invitations triggering auto-provisioning</li> <li>Target: &gt;95% success rate</li> </ol> <hr> <h2 id=related-documents>ðŸ”— Related Documents<a class=headerlink href=#related-documents title="Permanent link">&para;</a></h2> <ul> <li>ROADMAP.md - Overall project roadmap</li> <li>RELEASE_PLAN_v0.5.10.md - Multi-Project Budgets (prerequisite)</li> <li>User Guide: Project Collaboration (to be created)</li> <li>Security Guide: Access Control (to be updated)</li> </ul> <hr> <p><strong>Last Updated</strong>: October 27, 2025 <strong>Status</strong>: ðŸ“‹ Planned <strong>Dependencies</strong>: v0.5.10 (Multi-Project Budgets)</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 CloudWorkstation </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/scttfrdmn/prism target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://github.com/scttfrdmn/prism/discussions target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M384 144c0 97.2-86 176-192 176-26.7 0-52.1-5-75.2-14l-81.6 43.2c-9.3 4.9-20.7 3.2-28.2-4.2s-9.2-18.9-4.2-28.2l35.6-67.2C14.3 220.2 0 183.6 0 144 0 46.8 86-32 192-32s192 78.8 192 176m0 368c-94.1 0-172.4-62.1-188.8-144 120-1.5 224.3-86.9 235.8-202.7 83.3 19.2 145 88.3 145 170.7 0 39.6-14.3 76.2-38.4 105.6l35.6 67.2c4.9 9.3 3.2 20.7-4.2 28.2s-18.9 9.2-28.2 4.2L459.2 498c-23.1 9-48.5 14-75.2 14"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>