{"version":3,"file":"items-loader.js","sourceRoot":"","sources":["../../../../src/table/progressive-loading/items-loader.tsx"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,QAAQ,EAAE,MAAM,+CAA+C,CAAC;AAEzE,OAAO,kBAAkB,MAAM,4BAA4B,CAAC;AAE5D,OAAO,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AAExC,OAAO,MAAM,MAAM,iBAAiB,CAAC;AAiBrC,MAAM,UAAU,WAAW,CAAI,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAuB;IAC7E,IAAI,aAAa,GAAG,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IAC9E,aAAa,GAAG,OAAO,aAAa,KAAK,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC;IAC9E,OAAO,CACL,0CAAgB,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,oBAAkB,aAAa,EAAE,SAAS,EAAE,MAAM,CAAC,cAAc,CAAC,IACtG,QAAQ,CACL,CACP,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,gBAAgB,CAAI,EAClC,IAAI,EACJ,aAAa,EACb,mBAAmB,EACnB,mBAAmB,EACnB,iBAAiB,EACjB,iBAAiB,GACU;IAC3B,IAAI,OAAO,GAAoB,IAAI,CAAC;IACpC,IAAI,aAAa,KAAK,SAAS,IAAI,mBAAmB,EAAE;QACtD,OAAO,GAAG,mBAAmB,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzC;SAAM,IAAI,aAAa,KAAK,SAAS,IAAI,mBAAmB,EAAE;QAC7D,OAAO,GAAG,oBAAC,kBAAkB,IAAC,OAAO,EAAC,MAAM,IAAE,mBAAmB,CAAC,EAAE,IAAI,EAAE,CAAC,CAAsB,CAAC;KACnG;SAAM,IAAI,aAAa,KAAK,OAAO,IAAI,iBAAiB,EAAE;QACzD,OAAO,GAAG,oBAAC,kBAAkB,IAAC,OAAO,EAAC,MAAM,IAAE,iBAAiB,CAAC,EAAE,IAAI,EAAE,CAAC,CAAsB,CAAC;KACjG;SAAM,IAAI,aAAa,KAAK,UAAU,IAAI,iBAAiB,IAAI,IAAI,EAAE;QACpE,OAAO,GAAG,oBAAC,kBAAkB,IAAC,OAAO,EAAC,MAAM,IAAE,iBAAiB,CAAC,EAAE,IAAI,EAAE,CAAC,CAAsB,CAAC;KACjG;SAAM;QACL,QAAQ,CACN,OAAO,EACP,gJAAgJ,CACjJ,CAAC;KACH;IACD,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalLiveRegion from '../../live-region/internal';\nimport { TableProps } from '../interfaces';\nimport { applyTrackBy } from '../utils';\n\nimport styles from './styles.css.js';\n\nexport interface ItemsLoaderProps<T> {\n  item: null | T;\n  trackBy?: TableProps.TrackBy<T>;\n  children: React.ReactNode;\n}\n\nexport interface ItemsLoaderContentProps<T> {\n  item: null | T;\n  loadingStatus: TableProps.LoadingStatus;\n  renderLoaderPending?: (detail: TableProps.RenderLoaderDetail<T>) => React.ReactNode;\n  renderLoaderLoading?: (detail: TableProps.RenderLoaderDetail<T>) => React.ReactNode;\n  renderLoaderError?: (detail: TableProps.RenderLoaderDetail<T>) => React.ReactNode;\n  renderLoaderEmpty?: (detail: TableProps.RenderLoaderEmptyDetail<T>) => React.ReactNode;\n}\n\nexport function ItemsLoader<T>({ item, trackBy, children }: ItemsLoaderProps<T>) {\n  let parentTrackId = item && trackBy ? applyTrackBy(trackBy, item) : undefined;\n  parentTrackId = typeof parentTrackId === 'string' ? parentTrackId : undefined;\n  return (\n    <div data-root={item ? 'false' : 'true'} data-parentrow={parentTrackId} className={styles['items-loader']}>\n      {children}\n    </div>\n  );\n}\n\nexport function getLoaderContent<T>({\n  item,\n  loadingStatus,\n  renderLoaderPending,\n  renderLoaderLoading,\n  renderLoaderError,\n  renderLoaderEmpty,\n}: ItemsLoaderContentProps<T>) {\n  let content: React.ReactNode = null;\n  if (loadingStatus === 'pending' && renderLoaderPending) {\n    content = renderLoaderPending({ item });\n  } else if (loadingStatus === 'loading' && renderLoaderLoading) {\n    content = <InternalLiveRegion tagName=\"span\">{renderLoaderLoading({ item })}</InternalLiveRegion>;\n  } else if (loadingStatus === 'error' && renderLoaderError) {\n    content = <InternalLiveRegion tagName=\"span\">{renderLoaderError({ item })}</InternalLiveRegion>;\n  } else if (loadingStatus === 'finished' && renderLoaderEmpty && item) {\n    content = <InternalLiveRegion tagName=\"span\">{renderLoaderEmpty({ item })}</InternalLiveRegion>;\n  } else {\n    warnOnce(\n      'Table',\n      'Must define `renderLoaderPending`, `renderLoaderLoading`, `renderLoaderError`, or `renderLoaderEmpty` when using corresponding loading status.'\n    );\n  }\n  return content;\n}\n"]}